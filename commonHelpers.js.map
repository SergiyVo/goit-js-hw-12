{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getGallery(queryName) {      // Відправляємо посильного на сервер за адресою і сервер нам сам поверне посильного з інформацією\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = new URLSearchParams({\n        key: \"42413165-de21b3093ac09ea3a2837c255\",\n        q: queryName,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    const url = `${BASE_URL}${END_POINT}?${PARAMS}`;\n\n    console.log(url);\n \n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}\n\n\n\n\n\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader')\n}\n\nfunction galleryTemplate(element) {   //Робимо розмітку, забираємо з інформації яка прийшла те що нам потрібно за допомогою деструкторизації\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = element;\n    return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      </a>\n      <ul class=\"gallery-body\">\n        <li class=\"gallery-info\">\n          <h3>Likes:</h3>\n          <p>${likes}</p>\n        </li>\n        <li class=\"gallery-info\">\n          <h3>Views:</h3>\n          <p>${views}</p>\n        </li>\n        <li class=\"gallery-info\">\n          <h3>Comments:</h3>\n          <p>${comments}</p>\n        </li>\n        <li class=\"gallery-info\">\n          <h3>Downloads:</h3>\n          <p>${downloads}</p>\n        </li>\n      </ul>\n    </li>`\n }\n\nexport function renderGallery(elements) {   // Візуалізуємо інформацію яку приніс посильний\n    const markup = elements.hits.map(element => {\n        return galleryTemplate(element)\n    }).join('\\n');       \n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n\n    new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n});\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getGallery } from \"./js/pixabay-api\";\nimport { renderGallery } from \"./js/render-functions\";\nimport { refs } from \"./js/render-functions\";\n\nrefs.loader.style.display = 'none';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n\n    refs.gallery.innerHTML = '';\n    refs.loader.style.display = 'flex';\n    const query = e.target.elements.input.value.trim(); //Звертаємося до інпута\n            \n        getGallery(query).then(data => {\n            if (data.hits.length === 0) {\n                iziToast.show({\n                    message: 'Sorry, there are no images matching your search query. Please, try again!',\n                    messageColor: 'white',\n                    backgroundColor: 'red',\n                    position: 'topRight',\n                });\n            } else {\n                renderGallery(data); // Відправляємо посильного на getGallery\n            }\n        }).catch((error) => {\n            console.log(error);\n        }).finally(() => {\n            refs.loader.style.display = 'none';  \n        });\n        \n    e.target.reset();    \n};\n\n\n"],"names":["getGallery","queryName","BASE_URL","END_POINT","PARAMS","url","response","refs","galleryTemplate","element","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","elements","markup","SimpleLightbox","onFormSubmit","e","query","data","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAWC,EAAW,CAClC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,eAAQ,IAAIC,CAAG,EAER,MAAMA,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCnBO,MAAMC,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEA,SAASC,EAAgBC,EAAS,CAC9B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,sCAE2BE,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,eAKrDC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA,UAItB,CAEK,SAASC,EAAcC,EAAU,CACpC,MAAMC,EAASD,EAAS,KAAK,IAAIT,GACtBD,EAAgBC,CAAO,CACjC,EAAE,KAAK;AAAA,CAAI,EACZF,EAAK,QAAQ,mBAAmB,YAAaY,CAAM,EAEnD,IAAIC,EAAe,aAAc,CACjC,aAAc,IACd,aAAc,KAClB,CAAC,CACD,CCzCAb,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,KAAK,iBAAiB,SAAUc,CAAY,EAEjD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAEhBf,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,MAAM,QAAU,OAC5B,MAAMgB,EAAQD,EAAE,OAAO,SAAS,MAAM,MAAM,OAExCtB,EAAWuB,CAAK,EAAE,KAAKC,GAAQ,CACvBA,EAAK,KAAK,SAAW,EACrBC,EAAS,KAAK,CACV,QAAS,4EACT,aAAc,QACd,gBAAiB,MACjB,SAAU,UAC9B,CAAiB,EAEDR,EAAcO,CAAI,CAElC,CAAS,EAAE,MAAOE,GAAU,CAChB,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EAAE,QAAQ,IAAM,CACbnB,EAAK,OAAO,MAAM,QAAU,MACxC,CAAS,EAELe,EAAE,OAAO,OACb"}